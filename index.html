<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>LIvRE CBVR engine</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script>
  		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 		 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 		 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');	

 		 ga('create', 'UA-73709037-1', 'auto');
  		 ga('send', 'pageview');

	</script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>LIvRE</h1>
        <p>Content-Based Video Retrieval engine based on LIRE</p>

        <p class="view"><a href="https://github.com/nospotfer/livre">View the Project on GitHub <small>nospotfer/livre</small></a></p>


        <ul>
          <li><a href="https://github.com/nospotfer/livre/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/nospotfer/livre/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/nospotfer/livre">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
<a id="about" class="anchor" href="#about" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About LIvRE</h3>

        <p>LIvRE is a free, open-source, multi-platform Content-Based Video Retrieval (CBVR) search engine based on <a href="http://www.lire-project.net/">the LIRE project</a> . In other words, LIvRE makes it possible to efficiently parse, index and search through small and huge video collections using images as input queries.
        
          <br>A working demo can be found here: <a href="http://www.ub.edu/cvub/livre/">http://www.ub.edu/cvub/livre/</a>

        <!-- TODO: VIDEO COMES HERE-->

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features Overview</h3>

<ul>
    <li>Open source.</li>
    <li>Sate-of-the-art features based on the LIRE CBIR library.</li>
    <li>Powerful performance.</li>
  <li>Covers the 3 main blocks of a full CBVR system: Extraction, Indexing and Retrieval.</li>
    <li>Uses <a href="http://lucene.apache.org/solr/">Apache Solr</a> as search server.</li>
  	<li>Scalable.</li>
    <li>Multi-platform and OS independent.</li>
</ul>
 

<h3>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h3>

        <p>Before proceeding to get your LIvRE CBVR system up and running with your videos, be sure to fulfills the following dependencies and to add them to the system path of your OS: </p>
 <ul>
    <li><a href="https://www.ffmpeg.org/">ffmpeg</a></li>
    <li><a href="https://curl.haxx.se/">cURL</a></li>
    <li><a href="https://www.python.org">Python 3.x</a></li>
    <li><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Java SE Development Kit 8</a> (OpenJDK seems to have issues with the Solr server)</li>
 
</ul>

  
<h3>
<a id="instructions" class="anchor" href="#instructions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Basic Set-Up Instructions</h3>
<h4>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Download and installation</h4>
  <ol>
    <li>Download and extract the LIvRE Project files.</li>
    <li>Download and extract <a href="https://archive.apache.org/dist/lucene/solr/4.10.2/">Apache Solr v4.10.2</a> (other versions not tested).</li>
    <li>Open a terminal/command line inside /solr-4.10.2/example/ and run the Solr server for the first time with "java -jar start.jar" . After some moments you should have a Solr server up and running at http://localhost:8983/solr/ . It is important to run the server at least once before proceding to the next steps so that some needed folders and files are generated. 
    <li>Stop the Solr server with "control+c" from the command line.</li>
    <li>Move or copy the content inside the /_data/ folder of the LIvRE Project into /solr-4.10.2/example/solr-webapp/webapp/ .
      <li>Replace the content inside the /_config/ folder of the LIvRE Project into /solr-4.10.2/example/solr/collection1/conf/ . 
    <li>Move or copy the "lire-request-handler.jar" file into /solr-4.10.2/example/solr-webapp/webapp/WEB-INF/lib/ .
  </ol>
        
   <h3>
<a id="processindex" class="anchor" href="#processindex" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Processing and Indexing a video collection</h3>
   <h4>
<a id="process" class="anchor" href="#process" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Processing your videos</h4>
        
        Now that we have set-up our LIvRE CBVR system, let's move to the interesting part: Processing, Indexing and Searching through your video collection:
  <br>      
  <ol>
    <li>Open a terminal/command line inside /solr-4.10.2/example/ and run the Solr server for the first time with "java -jar start.jar" . After some moments you should have a Solr server up and running at http://localhost:8983/solr/ . </li>
    <li>Move or copy all the videos and/or video folders you want to work with into /solr-4.10.2/example/solr-webapp/webapp/myDataset/videos/ . </li>
    <li>Go to the /solr-4.10.2/example/solr-webapp/webapp/myDataset/ folder and open a terminal/command line there and type "python extractParseDataset.py" .</li>
    </ol>
    
        At this point, if all the dependencies are met and everything went fine, your videos should start processing. This step might take from few minutes to several hours (or even days!) depending on the amount of videos you are processing and your computer. TIP: If you have a multi-core machine, you can optimize the processing time by changing the "numThreads" attribute inside the "extractParseDataset.py" file by something like the number of cores on your machine +1 (Default value is 3).
   <br>
        
 <h4>
   <p></p>
<a id="index" class="anchor" href="#index" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Indexing your videos</h4>
        
        Now that your videos are (finally!) processed, it is time to index them at the Solr server to be able to start working/playing with them with the web interface.
        
  <ol>
    <li>Open a terminal/command line inside /solr-4.10.2/example/ again and run the Solr server with "java -jar start.jar" . After some moments you should have a Solr server up and running at http://localhost:8983/solr/ . </li>
    <li>Go to the /solr-4.10.2/example/solr-webapp/webapp/myDataset/ folder, open another terminal/command line there and type "python uploadParseDataset.py". NOTE: If you are familiar with Solr and you are running your server on different port than the default 8983 or if your Core name is different from the default "collection1", remember to change these attributes inside the "uploadDataset.py" file.</li>
  </ol>
    
  <h4>
<a id="done" class="anchor" href="#done" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Done!</h4>
        We have set-up, processed and indexed a full video collection. Your LIvRE CBVR system is ready to be searched/queried. Go on and try it on your browser at http://localhost/solr/livre.html your LIVRE

<p></p>
<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors and Contributors</h3>

        <p>Last update: 20/02/2016 - Gabriel deOliveira (<a href="https://github.com/nospotfer" class="user-mention">@nospotfer</a>), gabriel [dot] deoliveira [at] ub [dot] edu .</p>
 
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/nospotfer">nospotfer</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
